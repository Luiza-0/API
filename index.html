<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

</head>

<body onload="carrega()">

    <div class="justify-content-center m-5" id="app">
        <h4 class="h4 bg-light p-3">Endereço</h3>
            <div class="row g-2">
                <div class="col-3">
                    <label for="cep" class="form-label fw-bolder">CEP*</label>
                    <input type="text" class="form-control" id="cep" v-model="form.cep" placeholder="47420-010">
                </div>
                <div class="col">
                    <label for="logradouro" class="form-label fw-bolder">Logradouro*</label>
                    <input type="text" class="form-control" id="logradouro" v-model="form.logradouro"
                        placeholder="Rua Barão do Rio Branco">
                </div>
            </div>

            <div class="row g-3 mt-4">
                <div class="col">
                    <label for="bairro" class="form-label fw-bolder">Bairro*</label>
                    <input type="text" class="form-control" id="bairro" placeholder="Mussurunga II" v-model="form.bairro"> 
                </div>

                <div class="col">
                    <label for="cidade" class="form-label fw-bolder">Cidade*</label>
                    <input type="text" class="form-control" id="cidade" placeholder="São Paulo" v-model="form.localidade"> 
                </div>

                <div class="col">
                    <label for="estado" class="form-label fw-bolder">Estado*</label>
                    <input type="text" class="form-control" id="estado" placeholder="SP" v-model="form.uf">
                </div>

                <div class="col">
                    <label for="complemento" class="form-label fw-bolder">Complemento*</label>
                    <input type="text" class="form-control" id="complemento" placeholder="45" v-model="form.complemento">
                </div>

            </div>
            <div class="d-flex justify-content-end">
                <button class="btn btn-success col-2 p-3 mt-4" @click="buscaCep()">Consultar</button>
            </div>
    </div>

</body>

<script>
    function carrega() {
        var app = new Vue({
            el: '#app',
            methods: {
                buscaCep() {
                    console.log('teste')
                    axios.get('https://viacep.com.br/ws/' + this.form.cep + '/json/')
                        .then(response => {
                            this.form = response.data
                            //this.form.logradouro = response.data.logradouro
                            //this.form.bairro = response.data.bairro
                            //this.form.cidade = response.data.localidade
                            //this.form.estado = response.data.uf
                            //this.form.complemento = response.data.complemento
                        })
                }
            },
            data: {
                form: {
                    cep: '',
                    logradouro: '',
                    bairro: ' ',
                    localidade: ' ', 
                    uf: ' ', 
                    complemento: ' '
                }
            }
        })
    }

</script>

</html>